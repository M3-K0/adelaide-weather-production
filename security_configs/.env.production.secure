# Adelaide Weather Forecasting System - Secure Production Environment Variables
# Security-hardened configuration template for production deployment
# 
# CRITICAL: Do NOT commit this file with actual secrets to version control
# Use secure secret management system (Kubernetes Secrets, Vault, etc.)

# =============================================================================
# SECURITY NOTICE
# =============================================================================
# This configuration template demonstrates secure practices:
# - No hardcoded secrets (use placeholders for secret manager references)
# - Strong security defaults
# - Comprehensive monitoring enabled
# - Production-appropriate security settings
#
# Before deployment:
# 1. Replace all CHANGEME values with secure random passwords
# 2. Store actual secrets in secure secret manager
# 3. Update deployment to reference secrets by name, not value
# =============================================================================

# =============================================================================
# REQUIRED CONFIGURATION - SECURITY CRITICAL
# =============================================================================

# API Authentication (CRITICAL - Use secret manager reference)
# Generate with: openssl rand -base64 32
API_TOKEN=CHANGEME_USE_SECRET_MANAGER_REFERENCE

# =============================================================================
# BUILD AND VERSION INFORMATION
# =============================================================================

# Application versioning
VERSION=1.0.0
BUILD_DATE=2025-11-11T00:00:00Z
VCS_REF=main

# =============================================================================
# SECURITY AND ACCESS CONTROL - HARDENED CONFIGURATION
# =============================================================================

# CORS configuration - restrictive for production
CORS_ORIGINS=https://your-production-domain.com,https://www.your-production-domain.com
TRUSTED_HOSTS=your-production-domain.com,*.your-production-domain.com

# Redis security (CRITICAL - Use secret manager reference)
# Generate with: openssl rand -base64 24
REDIS_PASSWORD=CHANGEME_USE_SECRET_MANAGER_REFERENCE

# Grafana security (Use secret manager references)
# Generate with: openssl rand -base64 24
GRAFANA_PASSWORD=CHANGEME_USE_SECRET_MANAGER_REFERENCE
# Generate with: openssl rand -base64 32  
GRAFANA_SECRET_KEY=CHANGEME_USE_SECRET_MANAGER_REFERENCE

# =============================================================================
# PERFORMANCE AND MONITORING - SECURITY OPTIMIZED
# =============================================================================

# Logging configuration - enhanced security logging
LOG_LEVEL=INFO

# Rate limiting - stricter for production
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_ENABLED=true

# Performance optimization with security considerations
COMPRESSION_ENABLED=true
COMPRESSION_MIN_SIZE=500
NGINX_COMPRESSION=true
PERFORMANCE_CACHE_TTL=300

# Monitoring configuration - comprehensive security monitoring
PROMETHEUS_ENABLED=true
MONITORING_ENABLED=true
METRICS_COLLECTION_INTERVAL=30
CONFIG_DRIFT_REALTIME_ENABLED=true

# =============================================================================
# EXTERNAL SERVICES (OPTIONAL) - SECURE CONFIGURATION
# =============================================================================

# WeatherAPI.com integration (optional enhancement)
# Store API key in secret manager if used
WEATHER_API_KEY=CHANGEME_USE_SECRET_MANAGER_REFERENCE_IF_NEEDED
WEATHER_API_ENABLED=false

# =============================================================================
# INFRASTRUCTURE CONFIGURATION - SECURITY HARDENED
# =============================================================================

# Nginx configuration
NGINX_HOST=your-production-domain.com

# Redis configuration - secure defaults
REDIS_ENABLED=true

# Token management - enhanced security
TOKEN_ROTATION_ENABLED=true
TOKEN_ROTATION_INTERVAL_HOURS=24

# Security headers and protection
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'"

# Session security
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=strict

# =============================================================================
# DEPLOYMENT NOTES - SECURITY IMPLEMENTATION GUIDE  
# =============================================================================
# 
# 1. SECRET MANAGEMENT:
#    - Use Kubernetes Secrets: kubectl create secret generic adelaide-secrets
#    - Or AWS Secrets Manager: aws secretsmanager create-secret
#    - Or HashiCorp Vault: vault kv put secret/adelaide/prod
#
# 2. TLS/SSL CERTIFICATES:
#    - Obtain CA-issued certificates (Let's Encrypt recommended)
#    - certbot --nginx -d your-production-domain.com
#    - Set up automatic renewal
#
# 3. NETWORK SECURITY:
#    - Redis: Bind to internal network only, enable AUTH
#    - Grafana: Restrict access to admin networks
#    - API: Rate limiting and DDoS protection enabled
#
# 4. MONITORING & ALERTING:
#    - Configure alerts for authentication failures
#    - Monitor Redis unauthorized access attempts  
#    - Set up certificate expiration warnings
#    - Enable security metrics dashboard
#
# 5. COMPLIANCE:
#    - Ensure logging meets retention requirements
#    - Configure data protection settings for GDPR
#    - Set up audit trail for SOC 2 compliance
#
# 6. DEPLOYMENT COMMAND (after secret configuration):
#    docker-compose -f docker-compose.production.yml up -d
#
# =============================================================================

# DO NOT MODIFY BELOW - Template verification
SECURITY_TEMPLATE_VERSION=1.0.0
SECURITY_TEMPLATE_DATE=2025-11-11